---
title: Liaison du formulaire
description: Apprenez √† lier un formulaire √† un mod√®le dans Angular
---

import Objective from '../../../../../components/learning-objective.astro';

<Objective class="drop-shadow-xl" objectives={[
{mainTitle: 'Objectifs de ce chapitre', title: 'Liaison de votre formulaire HTML', description: 'Apprenez √† lier un formulaire √† un mod√®le (`.component.ts`) dans Angular.'},
]} />

Pour l'instant, la saisie du formulaire est r√©alisable. Il vous faut, maintenant, r√©cup√©rer les donn√©es du formulaire pour cr√©er une nouvelle t√¢che et l'ajouter √† la liste existante.

## API Forms Angular

Angular fournit 2 API diff√©rentes pour travailler avec des formulaires¬†:

- Formulaires pilot√©s par le Template HTML;
- Formulaires r√©actifs pilot√© par le code (`.component.ts`).

Dans ce cours, vous utiliserez l'API des formulaires pilot√©s par le Template HTML pour lier le formulaire.

## Formulaire pilot√© par le Template HTML

Que veut dire pilot√© par le Template HTML ?

La structure du formulaire et les validations sont d√©finies dans la vue (Template HTML). Les formulaires bas√©s sur des Template HTML sont faciles √† utiliser et adapt√©s aux formulaires simples.
C√¥t√© Angular, notre objectif est de lier chaque champ √† une propri√©t√© pour r√©cup√©rer sa valeur actuelle.

## Mod√®le de t√¢che

Vous allez cr√©er un mod√®le de `task` pour repr√©senter une t√¢che. Le mod√®le `task` aura deux propri√©t√©s : `title` et `description`.
Sa forme est diff√©rente de l'interface `Task` que vous avez cr√©√©e pr√©c√©demment. Vous allez en cr√©er une nouvelle d√©riv√©e √† partir de l'interface `Task` existante.

### Choisissez le type d'utilitaire Typescript

Le type d'utilitaire `Pick` vous permet de cr√©er un nouveau type en s√©lectionnant certaines propri√©t√©s d'un type existant.
L'avantage d'utiliser le type d'utilitaire  `Pick` est qu'il vous aide √† √©viter de dupliquer les propri√©t√©s du type existant.

Vous lui transmettez le type d'origine et les propri√©t√©s que vous souhaitez s√©lectionner.

```ts
// task.model.ts
export type TaskForm = Pick<Task, 'title' | 'description'>;

```

#### üéì Instructions

1. Ouvrez le fichier `src/app/task-form/task.model.ts`.

2. Ajoutez le code suivant:

```typescript
// task.model.ts
export type TaskForm = Pick<Task, 'title' | 'description'>;
```

3. Ouvrez le fichier `src/app/task-form/task-form.component.ts`.

4. Remplacez le contenu du fichier par le code suivant¬†:

```typescript ins={"Importez le nouveau type TaskForm": 3-4} ins={"Ajoutez le mod√®le de t√¢che avec des valeurs vides": 12-16}
// task-form.component.ts
import { Component } from '@angular/core';

import {TaskForm} from '../model/task.model';

@Component({
  selector: 'app-task-form',
  templateUrl: './task-form.component.html',
  styleUrls: ['./task-form.component.css']
})
export class TaskFormComponent implements OnInit {
    
  task: TaskForm = {
    title: '',
    description: ''
  };
    
  ngOnInit() {}  
}
```

## Liaison du formulaire

Pour lier un formulaire √† un mod√®le (`.component.ts`) dans Angular, vous pouvez utiliser la directive `[ngModel]`.
La directive `[ngModel]` est une directive int√©gr√©e qui vous permet de lier une entr√©e de formulaire √† un mod√®le.
Mais cela ne suffira pas pour votre cas d'utilisation : cela vous permet uniquement de lier la valeur de la propri√©t√© au champ, et non l'inverse.

### Liaison de donn√©es bidirectionnelle

Pour mettre √† jour votre mod√®le `task` lorsque le formulaire est mis √† jour, vous devez utiliser le format `[(ngModel)]`.
Cette syntaxe nous permet de¬†:

- lier la valeur de la t√¢che au champ du formulaire;
- mettre √† jour la valeur de la t√¢che en fonction de la saisie de l'utilisateur.

:::tip
`[(ngModel)]` ü§î `([ngModel])` ? Pour se rappeler de l'ordre des parenth√®ses et des crochets ? 

Pensez **banana in a box** [()] 

`[(ngModel)]` ‚úÖ
:::

A pr√©sent, il faut lier l'input `title` √† la propri√©t√© `task.title` et le textarea `description` √† la propri√©t√© `task.description`.

#### üéì Instructions

1. Ouvrez le fichier `src/app/task-form/task-form.component.html`.

2. Remplacez le contenu du fichier par le code suivant¬†:

```html ins={"Liez le titre avec la directive ngModel": 4-5} ins="[(ngModel)]="task.title"" ins={"Liez la description avec la directive ngModel": 8-9} ins="[(ngModel)]="task.description""
// task-form.component.html
<form>
  <label for="title" class="form-label">Titre</label>
    
  <input type="text" id="title" name="title" class="form-control" [(ngModel)]="task.title">
    
  <label for="description" class="form-label">Description</label>
    
  <textarea id="description" name="description" class="form-control" [(ngModel)]="task.description"></textarea>
  
  <button type="submit" class="btn btn-primary">Cr√©er une t√¢che</button>
</form>
```

En √©tant li√© au formulaire, le mod√®le `task` sera mis √† jour lorsque le formulaire sera mis √† jour.

## ‚úîÔ∏è Ce que vous avez appris

Dans ce chapitre, vous avez appris √† lier un formulaire √† un mod√®le (`.component.ts`) dans Angular. Vous avez appris √† cr√©er un mod√®le `task` pour repr√©senter une t√¢che. Vous avez √©galement appris √† utiliser la directive `[(ngModel)]` pour lier une entr√©e de formulaire √† un mod√®le.

## üîó Ressources

- <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html" target="_blank">Documentation TypeScript: types d'utilitaires</a>
- <a href="https://angular.dev/guide/directives#displaying-and-updating-properties-with-ngmodel" target="_blank">Documentation Angular: ngModel</a>